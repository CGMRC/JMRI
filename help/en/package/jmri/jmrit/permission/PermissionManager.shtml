<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Apple macOS version 5.8.0">
  <title>JMRI: Permissions</title><!--#include virtual="/help/en/parts/Style.shtml" -->
</head>
<body>
  <!--#include virtual="/help/en/parts/Header.shtml" -->

  <div id="mBody">
    <div id="mainContent" class="no-sidebar">
      <span class="since">since 5.9.4</span>
      <h1>Permissions</h1>

      <p><strong>Permissions</strong> is used to protect sensitive parts of JMRI, for example
      from unauthorized users to load and store panel and data files.</p>
      
      <h2>Default users</h2>
      <h3>The current default users are</h3>
      <table>
		  <tr><th>User</th><th>Password</th><th>Role</th></tr>
		  <tr><td>Admin</td><td>jmri</td><td>Administrator</td></tr>
		  <tr><td>Guest</td><td></td><td>Guest</td></tr>
      </table>
      <p>These two users cannot be deleted. But if you don't want to use
      the <strong>Admin</strong> user, you can unselect all the roles.
      It will then not have any permissions at all.</p>
      <p>New users will get the <strong>Standard user</strong> role when created.</p>
      <p>Note that the <strong>Guest</strong> cannot have a password.</p>
      
      <h2>Default permissions</h2>
      <h3>The current permissions are</h3>
      <table>
		  <tr><th>Permission</th><th>Roles with this permission as standard</th></tr>
		  <tr><td>Edit preferences</td><td><strong>Administrator</strong></td></tr>
		  <tr><td>Edit permissions</td><td><strong>Administrator</strong></td></tr>
		  <tr><td>Change user's own password</td><td><strong>Administrator</strong> and <strong>Standard user</strong></td></tr>
		  <tr><td>Load table content and panels</td><td><strong>Administrator</strong></td></tr>
		  <tr><td>Store ALL table content and panels</td><td><strong>Administrator</strong></td></tr>
      </table>
      
      <h2>I have looked myself out! What do I do?</h2>
      <p>There are two options.</p>
      <p>The simpliest way is to delete the file <strong>.permissions.xml</strong> in the
      PREFERENCES folder. On Linux that file is usually <strong>~/.jmri/.permissions.xml</strong>.
      By deleting that file, all the permission settings are removed.</p>
      
      <p>The second option is to edit that file with a text editor or an xml editor. The beginning
      of the file looks like this:
      <pre>
<?xml version="1.0" encoding="UTF-8"?>
<Permissions>
  <Settings>
    <Enabled>no</Enabled>
  </Settings>
  <Users>
    <User>
      </pre>
      
      Change <strong>&lt;Enabled&gt;yes&lt;/Enabled&gt;</strong> to
      <strong>&lt;Enabled&gt;no&lt;/Enabled&gt;</strong>.
      It disables the permissions but the users and their permission configuration is still kept.
      </p>
		  

      <h2>Securing the preferences</h2>
      <p>If an unauthorized user is able to delete or edit files on the computer running
      JMRI, he might be able to disable the permissions and then override them. See the section <strong>I have looked myself out!</strong> above.</p>
      
      <p>If you want to protect from that, you could protect that file from being changed or deleted.
      On Linux, it can be done by changing the owner of the file to <strong>root</strong> and to have
      it read only for other users.</p>
      
      <pre>
sudo chown root ~/.jmri/.permissions.xml
sudo chmod 644 ~/.jmri/.permissions.xml
      </pre>
      

      <h2>Connection failure during startup of JMRI</h2>
      <p>If JMRI is unable to connect to the layout during startup,
      a dialog is shown with the options <strong>Quit PanelPro</strong>,
      <strong>Continue</strong> and <strong>Edit connections</strong>.
      If the permission manager is enabled, the guest user probably
      doesn't have the permission to edit the connections. In this case,
      select <strong>Continue</strong> to start JMRI. When you do, a
      dialog will open with the message <strong>Permission denied.</strong>.
      Ignore that and log in and then open the preferences and then edit
      the connection.</p>


      <!--#include virtual="/help/en/parts/Footer.shtml" -->
    </div>
    <!-- closes #mainContent-->
  </div>
  <!-- closes #mBody-->
  <script src="/js/help.js"></script>
</body>
</html>
